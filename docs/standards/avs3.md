# AVS3 (Audio Video Coding Standard 3) 编解码标准

## 基本信息

- **全称**：Audio Video Coding Standard 3 (AVS3)，也称为IEEE 1857.10
- **标准组织**：中国数字音视频编解码技术标准工作组（AVS工作组）与IEEE 1857视频标准
- **发布时间**：2019年12月第一版，2021年完成IEEE标准化
- **最新版本**：AVS3/IEEE 1857.10 (2021年)

## 历史背景

AVS3是由中国AVS工作组自主研发的第三代视频编码标准，是继AVS1和AVS2之后的又一重要技术成果。作为中国自主知识产权的视频编码标准，AVS3旨在提供比H.265/HEVC和AVS2更高的压缩效率，特别针对中文视频内容和亚洲面部特征进行了优化。AVS3的开发始于2017年，经过约3年的研发，于2019年底发布了第一版，随后在2021年完成了IEEE 1857.10国际标准化。

## 主要特点

### 分块结构
- **编码树单元(CTU)**：
  - 支持128×128像素的大块结构
  - 采用四叉树+二叉树(QTBT)的块划分结构
  - 分区粒度可低至4×4像素
  - 支持非对称块形状和灵活的块分割
  - 引入了扩展块概念(EMT)，提供更灵活的分区边界处理
  - 支持异形分区(IS)，特别适合复杂边缘区域

### 帧内预测
- **增强型预测系统**：
  - 67种角度预测模式，精确到小数像素级别
  - 5种平滑预测模式，针对不同纹理类型优化
  - 帧内块拷贝(IBC)模式优化，支持扩展搜索范围
  - 多参考行帧内预测(MRLP)，可使用多达四行参考像素
  - 模板匹配预测，为复杂纹理区域提供更精确预测
  - 改进的色度预测模式(DM)，支持36种直接模式
  - 针对中文字符的专门优化预测模式

### 帧间预测
- **先进运动模型**：
  - 精细运动矢量精度(1/16像素)
  - 高级仿射运动补偿(AAMC)，支持4/6参数模型
  - 叠加块运动补偿(OBMC)，改善块边界预测
  - 自适应运动矢量精度(AMVR)
  - 双向光流(BDOF)优化
  - 亚像素运动估计精度自适应控制
  - 方向运动向量预测(DMVP)，利用空间相关性
  - 帧间运动向量差分编码增强

### 变换与量化
- **多核心变换系统**：
  - 核心变换类型：DCT-2、DCT-8、DST-7、DST-4
  - 增强型多变换(EMT)选择，水平垂直方向可独立选择
  - 非分离式次级变换(NSST)，专为中文内容优化
  - 变换大小从4×4到64×64，支持矩形变换
  - 变换精度自适应控制，平衡效率与复杂度
  - 区域自适应量化(RAQ)，基于内容特性调整量化强度
  - 变换域感知量化(TDPQ)，优化视觉质量

### 环路滤波
- **三级滤波系统**：
  - 去块效应滤波(DBF)，具有方向感知和内容自适应特性
  - 样点自适应偏移(SAO)，增强边缘和平滑区域细节
  - 自适应环路滤波器(ALF)，基于区域分类的自适应Wiener滤波
  - 区域自适应环路滤波开关(RALFS)，降低复杂度
  - 哈达玛变换域滤波(HTDF)，针对特定伪影优化
  - 分层处理架构，支持并行实现

### 熵编码
- **优化CABAC引擎**：
  - 高效上下文建模，多达近300个上下文模型
  - 基于内容自适应的模型选择
  - 语法元素概率精细化建模
  - 低延迟初始化设计
  - 硬件友好的并行实现
  - 针对中文内容特性的概率模型优化

### 其他技术特性
- **色度格式**：
  - 支持YUV 4:0:0、4:2:0、4:2:2、4:4:4格式
  - 高级色度分量处理
  - 色度自适应滤波(CAF)

- **位深支持**：
  - 8/10/12位深度
  - 内部处理优化，降低精度损失

- **并行编码**：
  - 瓦片并行处理
  - 波前并行处理(WPP)
  - 独立片段编码
  - 分层并行设计

- **特殊内容支持**：
  - 屏幕内容编码增强(SCE)
  - 文本区域识别与优化
  - 中文字符特性编码优化
  - HDR内容处理工具

## 高级编码特性

### 针对中文内容的专门优化

AVS3引入了多项专为中文视频内容优化的技术：

1. **中文字符预测增强**：基于中文字符笔画特性的专门预测模式，提高中文字幕编码效率。

2. **亚洲面部特征保留**：专门设计的滤波参数和量化矩阵，保留亚洲面部的细微特征。

3. **文化敏感内容保护**：针对特定文化符号和内容的保护机制，在低比特率下仍保持可识别性。

### 计算复杂度平衡设计

AVS3在保持高编码效率的同时，特别关注计算复杂度控制：

1. **分级工具配置**：提供多种复杂度配置，从低延迟移动应用到高质量广播级应用。

2. **硬件友好工具设计**：各模块设计时考虑硬件实现难度，优化内存访问和并行性。

3. **精度自适应控制**：在编解码过程中动态调整计算精度，在不同场景下平衡效率和复杂度。

### 增强的屏幕内容编码

AVS3针对屏幕内容编码设计了专门的工具集：

1. **增强型BDPCM**：支持水平、垂直和对角线三个方向的块级差分编码。

2. **增强型变换跳过**：针对文本、图形等特定内容类型的无变换直接残差编码。

3. **区域识别与自适应处理**：自动识别文本、图像和混合区域，应用不同的编码策略。

4. **中文桌面优化**：针对中文操作系统界面和应用程序的特殊优化。

### 低延迟应用优化

AVS3为实时传输和低延迟场景提供了专门优化：

1. **快速解码路径**：核心工具的低复杂度变体，支持实时解码。

2. **分层依赖结构**：降低预测依赖复杂度，减少解码延迟。

3. **帧内刷新增强**：改进的渐进式帧内刷新机制，优化网络传输场景。

4. **错误恢复增强**：针对丢包和传输错误的鲁棒性设计。

## 应用场景

- **超高清广播**：
  - 8K/4K广播电视
  - 中国数字电视标准(中国DTMB 3.0)
  - 专业级视频制作和传输

- **网络视频**：
  - 中国主流视频平台
  - 短视频应用
  - 在线教育和会议系统

- **移动视频**：
  - 手机短视频应用
  - 移动直播
  - 视频通话和社交

- **视频监控**：
  - 高清安防监控
  - 智能交通监控
  - 远程医疗监控

- **文化特定应用**：
  - 数字媒体档案
  - 文物数字化
  - 传统文化内容保存

## 编码性能与复杂度

AVS3性能指标：

| 应用场景 | 相比HEVC节省比特率 | 相比VVC比特率差异 | 编码复杂度(相比HEVC) | 解码复杂度(相比HEVC) |
|---------|----------------|-------------------|---------------------|---------------------|
| 自然场景 | 30-40% | -5%至+5% | 3-4倍 | 1.8-2.2倍 |
| 中文影视内容 | 35-45% | -2%至+8% | 3-4倍 | 1.8-2.2倍 |
| 中文字幕 | 40-50% | +3%至+10% | 2.5-3.5倍 | 1.6-2倍 |
| 屏幕内容 | 40-55% | -2%至+8% | 2-3倍 | 1.5-2倍 |
| 低延迟通讯 | 25-35% | -8%至0% | 2-3倍 | 1.5-1.8倍 |

不同配置下的性能-复杂度权衡：

| 编码配置 | 比特率节省(相比HEVC) | 编码速度 |
|---------|---------------------|---------|
| 参考软件(HPM) | 基准 | 研究级(非实时) |
| 快速模式 | -3-6% | 5-10倍提速 |
| 平衡模式 | -8-12% | 15-30倍提速 |
| 实时模式 | -15-20% | 30-60倍提速 |

## 硬件支持现状

AVS3作为中国自主标准，在国内有较强的硬件支持推进：

- **解码硬件**：
  - 海思、联发科、展讯等公司已开发支持AVS3的解码芯片
  - 部分中国品牌智能电视已内置AVS3解码能力
  - 广电设备厂商推出支持AVS3的机顶盒

- **编码硬件**：
  - 专业级ASIC编码器用于广播应用
  - 部分安防监控芯片支持AVS3编码
  - FPGA实现的编码加速器

- **软件实现**：
  - 官方参考软件HPM (High Performance Model)
  - 国内公司开发的商业编解码器
  - 针对特定应用的优化实现

## 标准实施与部署

- **标准化进程**：
  - 2019年12月：AVS3视频部分完成标准制定
  - 2020年8月：AVS3标准在中国开始推广应用
  - 2021年：完成IEEE 1857.10国际标准化

- **行业采用**：
  - 中国广电总局推动在广播电视领域应用
  - 主要中国视频平台逐步支持
  - 安防监控行业积极采用
  - 移动设备厂商开始集成

- **专利与许可**：
  - 知识产权主要由中国企业和研究机构持有
  - 通过AVS联盟实施统一许可
  - 相比国际标准更低的专利许可费用
  - 鼓励在中国市场和"一带一路"国家使用

- **国际合作**：
  - 与IEEE合作完成国际标准化
  - 在部分亚洲国家推广应用
  - 与"一带一路"国家进行技术合作

## 与其他标准比较

| 特性 | AVS3 | VVC/H.266 | AV1 | HEVC/H.265 |
|------|------|-----------|-----|------------|
| 比特率节省(相比HEVC) | 30-40% | 35-45% | 25-35% | 基准 |
| 编码复杂度 | 中高 | 非常高 | 高 | 中 |
| 解码复杂度 | 中 | 中高 | 中高 | 中 |
| 专利许可 | 中国友好 | 复杂 | 免版税 | 复杂 |
| 文化内容优化 | 中文/亚洲 | 通用 | 通用 | 通用 |
| 硬件支持(中国) | 强 | 弱 | 中 | 强 |
| 国际应用 | 有限 | 逐步增长 | 广泛 | 广泛 |

## 未来发展

- **技术演进**：
  - AVS3增强版本开发中
  - 深度学习辅助编码工具研究
  - 进一步降低复杂度的实现优化

- **应用扩展**：
  - 向云游戏和VR领域扩展
  - 进一步优化移动设备应用
  - 与人工智能视频处理技术融合

- **国际化**：
  - 通过"一带一路"倡议推广国际应用
  - 增强与国际标准的互操作性
  - 扩大在亚洲市场的影响力

## 参考文献

1. Zhang, L., Xiang, X., & Lin, J. (2020). An overview of AVS3 video coding standard: Architecture, technologies, and practices. IEEE Transactions on Circuits and Systems for Video Technology.
2. Wang, S., et al. (2021). AVS3: The third-generation audio and video coding standard of China. IEEE Journal of Selected Topics in Signal Processing.
3. Li, B., Xu, J., et al. (2020). Block partitioning structure in the AVS3 video coding standard. IEEE Transactions on Image Processing.
4. Zhao, X., et al. (2021). Advanced intra coding tools in AVS3. IEEE International Conference on Multimedia and Expo (ICME), 1-6.
5. Liu, D., et al. (2020). Hardware-friendly design of AVS3 video coding tools. IEEE Transactions on Circuits and Systems for Video Technology.
6. Chen, Y., et al. (2021). Comparison of coding efficiency between AVS3, VVC, and AV1. IEEE International Conference on Image Processing (ICIP).
7. IEEE 1857.10-2021. (2021). IEEE Standard for 2nd generation IEEE 1857 video coding. 